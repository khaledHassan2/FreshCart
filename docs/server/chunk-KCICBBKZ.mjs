import './polyfills.server.mjs';
import{a as k,b as F,c as O}from"./chunk-YVIYWCOI.mjs";import{a as M}from"./chunk-NE7V5W5Z.mjs";import{a as L,b as B}from"./chunk-HYL4RV4Q.mjs";import"./chunk-GTSSCL6B.mjs";import{c as w,d as A}from"./chunk-LOXGQ4IT.mjs";import"./chunk-QKIAIGA6.mjs";import{a as E}from"./chunk-ZWTCCLII.mjs";import"./chunk-4ZNEW5D7.mjs";import"./chunk-M4FFWHRN.mjs";import{Ab as h,Ib as l,Jb as c,Kb as y,Ma as T,Pb as D,Qa as a,Qb as I,Vb as S,Wb as C,Y as d,aa as P,ab as u,gb as m,ib as f,mb as v,nb as b,ob as _,pb as g,qb as r,rb as o,sb as p,zb as x}from"./chunk-72ARS2FD.mjs";import"./chunk-VVCT4QZE.mjs";function $(e,i){return this.detailsProduct().id}var j=()=>[1,2,3,4,5];function z(e,i){if(e&1&&p(0,"img",10),e&2){let R=h().$implicit,s=h();f("src",R,T)("alt",s.detailsProduct().title)}}function G(e,i){e&1&&m(0,z,1,2,"ng-template",4)}function H(e,i){e&1&&(r(0,"span"),p(1,"i",11),o())}function N(e,i){e&1&&(r(0,"span"),p(1,"i",12),o())}function U(e,i){e&1&&p(0,"i",9)}var ae=(()=>{let i=class i{constructor(){this._ActivatedRoute=d(E),this._ProductsService=d(M),this._CartService=d(L),this._ToastrService=d(B),this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:2500,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],rtl:!0,items:1,nav:!0},this.detailsProduct=u({}),this.isLoding=u(!1)}ngOnInit(){this.parmaMapIdSub=this._ActivatedRoute.paramMap.subscribe({next:s=>{let n=s.get("id");this.specificProductSub=this._ProductsService.getSpecificProduct(n).subscribe({next:t=>{console.log("pro",t),this.detailsProduct.set(t.data)}})}})}addToCart(s){this.isLoding.set(!0),this.addProductToCartSub=this._CartService.addProductToCart(s).subscribe({next:n=>{this._ToastrService.success(n.message),this.isLoding.set(!1),this._CartService.cartNumber.set(n.numOfCartItems),console.log(n)},error:n=>{this.isLoding.set(!1)}})}ngOnDestroy(){this.parmaMapIdSub?.unsubscribe(),this.specificProductSub?.unsubscribe()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=P({type:i,selectors:[["app-details"]],standalone:!0,features:[D],decls:27,vars:15,consts:[[1,"container","py-5"],[1,"row","align-items-center"],[1,"col-md-4"],[3,"options"],["carouselSlide",""],[1,"col-md-8"],[1,"text-main"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-main","w-100","my-2",3,"click"],[1,"fas","fa-spin","fa-circle-notch"],[1,"w-100",3,"src","alt"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(n,t){n&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),_(4,G,1,0,null,4,b),o()(),r(6,"div",5)(7,"h3"),l(8),o(),r(9,"p"),l(10),o(),r(11,"h6",6),l(12),o(),r(13,"div",7)(14,"span"),l(15),S(16,"translate"),o(),r(17,"div"),_(18,H,2,0,"span",null,$,!0),m(20,N,2,0,"span"),r(21,"span"),l(22),o()()(),r(23,"button",8),x("click",function(){return t.addToCart(t.detailsProduct().id)}),l(24),S(25,"translate"),m(26,U,1,0,"i",9),o()()()()),n&2&&(a(3),f("options",t.customOptions),a(),g(t.detailsProduct().images),a(4),c(" ",t.detailsProduct().title," "),a(2),c(" ",t.detailsProduct().description," "),a(2),c(" ",t.detailsProduct().category.name," "),a(3),y(" ",t.detailsProduct().price," ",C(16,10,"home.EGP")," "),a(3),g(I(14,j).slice(0,t.detailsProduct().ratingsAverage)),a(2),v(20,t.detailsProduct().ratingsAverage%1!==0?20:-1),a(2),c(" ",t.detailsProduct().ratingsAverage," "),a(2),c(" ",C(25,12,"wish.Add TO Cart")," "),a(2),v(26,t.isLoding()?26:-1))},dependencies:[O,F,k,A,w]});let e=i;return e})();export{ae as DetailsComponent};
