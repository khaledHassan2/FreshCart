import{a as A,b as M,c as k}from"./chunk-DSCWGB74.js";import{a as w}from"./chunk-KD5FM2UQ.js";import{l as F,m as O}from"./chunk-6XQ4R34H.js";import{a as E}from"./chunk-OPIBKOQE.js";import"./chunk-JICLCJKO.js";import{c as L,d as B}from"./chunk-FPOCNBP4.js";import"./chunk-ORPLGSWX.js";import{Cb as x,Db as h,Lb as l,Mb as c,Nb as y,Pa as T,Sb as D,Ta as a,Tb as I,Yb as S,Zb as C,ca as d,db as u,fa as P,jb as m,lb as f,pb as v,qb as b,rb as _,sb as g,tb as r,ub as o,vb as p}from"./chunk-7LPCS22P.js";function $(e,i){return this.detailsProduct().id}var j=()=>[1,2,3,4,5];function z(e,i){if(e&1&&p(0,"img",10),e&2){let R=h().$implicit,s=h();f("src",R,T)("alt",s.detailsProduct().title)}}function G(e,i){e&1&&m(0,z,1,2,"ng-template",4)}function H(e,i){e&1&&(r(0,"span"),p(1,"i",11),o())}function N(e,i){e&1&&(r(0,"span"),p(1,"i",12),o())}function U(e,i){e&1&&p(0,"i",9)}var ae=(()=>{let i=class i{constructor(){this._ActivatedRoute=d(E),this._ProductsService=d(w),this._CartService=d(F),this._ToastrService=d(O),this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:2500,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],rtl:!0,items:1,nav:!0},this.detailsProduct=u({}),this.isLoding=u(!1)}ngOnInit(){this.parmaMapIdSub=this._ActivatedRoute.paramMap.subscribe({next:s=>{let n=s.get("id");this.specificProductSub=this._ProductsService.getSpecificProduct(n).subscribe({next:t=>{console.log("pro",t),this.detailsProduct.set(t.data)}})}})}addToCart(s){this.isLoding.set(!0),this.addProductToCartSub=this._CartService.addProductToCart(s).subscribe({next:n=>{this._ToastrService.success(n.message),this.isLoding.set(!1),this._CartService.cartNumber.set(n.numOfCartItems),console.log(n)},error:n=>{this.isLoding.set(!1)}})}ngOnDestroy(){this.parmaMapIdSub?.unsubscribe(),this.specificProductSub?.unsubscribe()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=P({type:i,selectors:[["app-details"]],standalone:!0,features:[D],decls:27,vars:15,consts:[[1,"container","py-5"],[1,"row","align-items-center"],[1,"col-md-4"],[3,"options"],["carouselSlide",""],[1,"col-md-8"],[1,"text-main"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-main","w-100","my-2",3,"click"],[1,"fas","fa-spin","fa-circle-notch"],[1,"w-100",3,"src","alt"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(n,t){n&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),_(4,G,1,0,null,4,b),o()(),r(6,"div",5)(7,"h3"),l(8),o(),r(9,"p"),l(10),o(),r(11,"h6",6),l(12),o(),r(13,"div",7)(14,"span"),l(15),S(16,"translate"),o(),r(17,"div"),_(18,H,2,0,"span",null,$,!0),m(20,N,2,0,"span"),r(21,"span"),l(22),o()()(),r(23,"button",8),x("click",function(){return t.addToCart(t.detailsProduct().id)}),l(24),S(25,"translate"),m(26,U,1,0,"i",9),o()()()()),n&2&&(a(3),f("options",t.customOptions),a(),g(t.detailsProduct().images),a(4),c(" ",t.detailsProduct().title," "),a(2),c(" ",t.detailsProduct().description," "),a(2),c(" ",t.detailsProduct().category.name," "),a(3),y(" ",t.detailsProduct().price," ",C(16,10,"home.EGP")," "),a(3),g(I(14,j).slice(0,t.detailsProduct().ratingsAverage)),a(2),v(20,t.detailsProduct().ratingsAverage%1!==0?20:-1),a(2),c(" ",t.detailsProduct().ratingsAverage," "),a(2),c(" ",C(25,12,"wish.Add TO Cart")," "),a(2),v(26,t.isLoding()?26:-1))},dependencies:[k,M,A,B,L]});let e=i;return e})();export{ae as DetailsComponent};
