import{a as K}from"./chunk-QAR4RVT7.js";import{a as G,b as C,c as M,d as V,h as k,i as $,j,k as z,m as O}from"./chunk-XHZB7IPA.js";import{c as D}from"./chunk-OPIBKOQE.js";import"./chunk-JICLCJKO.js";import{c as H,d as J}from"./chunk-FPOCNBP4.js";import{h as A}from"./chunk-ORPLGSWX.js";import{Cb as P,Db as x,Lb as a,Mb as s,Sb as L,Ta as i,Vb as y,Yb as p,Zb as d,ca as B,db as I,fa as N,jb as v,lb as b,pb as u,tb as n,ub as r,vb as F}from"./chunk-7LPCS22P.js";var q=(e,l)=>({"is-valid":e,"is-invalid":l});function Q(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.name is required")," "))}function U(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.name should be more than or equal 3 chars")," "))}function W(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.name should be less than or equal 20 chars")," "))}function X(e,l){if(e&1&&(n(0,"div",6),v(1,Q,3,3,"p",21)(2,U,3,3)(3,W,3,3),r()),e&2){let m,o=x();i(),u(1,(m=o.registerForm.get("name"))!=null&&m.getError("required")?1:(m=o.registerForm.get("name"))!=null&&m.getError("minlength")?2:(m=o.registerForm.get("name"))!=null&&m.getError("maxlength")?3:-1)}}function Y(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"login.email is required")," "))}function Z(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"login.enter valid email")," "))}function ee(e,l){if(e&1&&(n(0,"div",9),v(1,Y,3,3,"p",21)(2,Z,3,3,"p",21),r()),e&2){let m,o,g=x();i(),u(1,(m=g.registerForm.get("email"))!=null&&m.getError("required")?1:-1),i(),u(2,(o=g.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function te(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.phone is required")," "))}function ie(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.enter valid phone")," "))}function ne(e,l){if(e&1&&(n(0,"div",9),v(1,te,3,3,"p",21)(2,ie,3,3,"p",21),r()),e&2){let m,o,g=x();i(),u(1,(m=g.registerForm.get("phone"))!=null&&m.getError("required")?1:-1),i(),u(2,(o=g.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function re(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"login.password is required")," "))}function le(e,l){e&1&&(n(0,"p",21),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"login.enter valid password")," "))}function oe(e,l){if(e&1&&(n(0,"div",9),v(1,re,3,3,"p",21)(2,le,3,3,"p",21),r()),e&2){let m,o,g=x();i(),u(1,(m=g.registerForm.get("password"))!=null&&m.getError("required")?1:-1),i(),u(2,(o=g.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function ae(e,l){e&1&&(n(0,"p",16),a(1),p(2,"translate"),r()),e&2&&(i(),s(" ",d(2,1,"Register.password confirmation is incorrect")," "))}function se(e,l){e&1&&F(0,"span",18)}function me(e,l){if(e&1&&(n(0,"p",19),a(1),r()),e&2){let m=x();i(),s(" ",m.msgError()," ")}}function pe(e,l){if(e&1&&(n(0,"p",20),a(1),r()),e&2){let m=x();i(),s(" ",m.msgSucsses()," ")}}var xe=(()=>{let l=class l{constructor(){this._FormBuilder=B(z),this.registerForm=this._FormBuilder.group({name:[null,[C.required,C.minLength(3),C.maxLength(20)]],email:[null,[C.required,C.email]],phone:[null,[C.required,C.pattern(/^01[0125][0-9]{8}$/)]],password:[null,[C.required,C.pattern(/^\w{6,50}$/)]],rePassword:[null]},{validators:this.confirmpassword}),this._AuthService=B(K),this._Router=B(D),this.msgError=I(""),this.msgSucsses=I(""),this.isLoding=I(!1)}registerSubmit(){this.registerForm.valid?(this.isLoding.set(!0),this.msgError.set(""),this.msgSucsses.set(""),this.registerSubscrip=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{this.isLoding.set(!1),this.msgSucsses=o.message,o.message=="success"&&setTimeout(()=>{this._Router.navigate(["/login"])},200),console.log(this.registerForm)},error:o=>{this.isLoding.set(!1)}})):(this.registerForm.markAllAsTouched(),this.registerForm.setErrors({mismach:!0}))}ngOnDestroy(){this.registerSubscrip?.unsubscribe()}confirmpassword(o){return o.get("password")?.value===o.get("rePassword")?.value?null:{mismach:!0}}};l.\u0275fac=function(g){return new(g||l)},l.\u0275cmp=N({type:l,selectors:[["app-register"]],standalone:!0,features:[L],decls:41,vars:46,consts:[[1,"bg-main-light","shadow","p-2","my-5","rounded-4"],[1,"h2","text-main"],[1,"text-capitalize",3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["formControlName","name","type","text","id","name","placeholder","name@example.com",1,"form-control","shadow-none","border-0",3,"ngClass"],["for","name"],[1,"text-danger","w-50","mt-1","p-1"],["formControlName","email","type","email","id","email","placeholder","name@example.com",1,"form-control","shadow-none","border-0",3,"ngClass"],["for","email"],[1,"text-danger","mt-1","w-50","p-0"],["formControlName","phone","type","tel","id","phone","placeholder","name@example.com",1,"form-control","shadow-none","border-0",3,"ngClass"],["for","phone"],["formControlName","password","type","password","id","password","placeholder","name@example.com",1,"form-control","shadow-none","border-0",3,"ngClass"],["for","password"],["formControlName","rePassword","type","password","id","rePassword","placeholder","name@example.com",1,"form-control","shadow-none","border-0"],["for","rePassword"],[1,"text-danger","p-0","mt-1","w-50"],[1,"btn-main","ms-auto","d-block"],[1,"fas","fa-spin","fa-spinner"],[1,"text-danger","p-1","m-0"],[1,"text-success","p-1","m-0"],[1,"m-0"]],template:function(g,t){if(g&1&&(n(0,"section",0)(1,"h1",1),a(2),p(3,"translate"),r(),n(4,"form",2),P("ngSubmit",function(){return t.registerSubmit()}),n(5,"div",3),F(6,"input",4),n(7,"label",5),a(8),p(9,"translate"),r(),v(10,X,4,1,"div",6),r(),n(11,"div",3),F(12,"input",7),n(13,"label",8),a(14),p(15,"translate"),r(),v(16,ee,3,2,"div",9),r(),n(17,"div",3),F(18,"input",10),n(19,"label",11),a(20),p(21,"translate"),r(),v(22,ne,3,2,"div",9),r(),n(23,"div",3),F(24,"input",12),n(25,"label",13),a(26),p(27,"translate"),r(),v(28,oe,3,2,"div",9),r(),n(29,"div",3),F(30,"input",14),n(31,"label",15),a(32),p(33,"translate"),r(),v(34,ae,3,3,"p",16),r(),n(35,"button",17),a(36),p(37,"translate"),v(38,se,1,0,"span",18),r(),v(39,me,2,1,"p",19)(40,pe,2,1,"p",20),r()()),g&2){let c,S,_,w,h,E,f,R,T;i(2),s(" ",d(3,20,"Register.Register Now")," :"),i(2),b("formGroup",t.registerForm),i(2),b("ngClass",y(34,q,!((c=t.registerForm.get("name"))!=null&&c.errors)&&(((c=t.registerForm.get("name"))==null?null:c.touched)||((c=t.registerForm.get("name"))==null?null:c.dirty)),((c=t.registerForm.get("name"))==null?null:c.errors)&&(((c=t.registerForm.get("name"))==null?null:c.touched)||((c=t.registerForm.get("name"))==null?null:c.dirty)))),i(2),s(" ",d(9,22,"Register.name")," "),i(2),u(10,(S=t.registerForm.get("name"))!=null&&S.errors&&((S=t.registerForm.get("name"))!=null&&S.touched||(S=t.registerForm.get("name"))!=null&&S.dirty)?10:-1),i(2),b("ngClass",y(37,q,!((_=t.registerForm.get("email"))!=null&&_.errors)&&(((_=t.registerForm.get("email"))==null?null:_.touched)||((_=t.registerForm.get("email"))==null?null:_.dirty)),((_=t.registerForm.get("email"))==null?null:_.errors)&&(((_=t.registerForm.get("email"))==null?null:_.touched)||((_=t.registerForm.get("email"))==null?null:_.dirty)))),i(2),s(" ",d(15,24,"login.email")," "),i(2),u(16,(w=t.registerForm.get("email"))!=null&&w.errors&&((w=t.registerForm.get("email"))!=null&&w.touched||(w=t.registerForm.get("email"))!=null&&w.dirty)?16:-1),i(2),b("ngClass",y(40,q,!((h=t.registerForm.get("phone"))!=null&&h.errors)&&(((h=t.registerForm.get("phone"))==null?null:h.touched)||((h=t.registerForm.get("phone"))==null?null:h.dirty)),((h=t.registerForm.get("phone"))==null?null:h.errors)&&(((h=t.registerForm.get("phone"))==null?null:h.touched)||((h=t.registerForm.get("phone"))==null?null:h.dirty)))),i(2),s(" ",d(21,26,"Register.phone")," "),i(2),u(22,(E=t.registerForm.get("phone"))!=null&&E.errors&&((E=t.registerForm.get("phone"))!=null&&E.touched||(E=t.registerForm.get("phone"))!=null&&E.dirty)?22:-1),i(2),b("ngClass",y(43,q,!((f=t.registerForm.get("password"))!=null&&f.errors)&&(((f=t.registerForm.get("password"))==null?null:f.touched)||((f=t.registerForm.get("password"))==null?null:f.dirty)),((f=t.registerForm.get("password"))==null?null:f.errors)&&(((f=t.registerForm.get("password"))==null?null:f.touched)||((f=t.registerForm.get("password"))==null?null:f.dirty)))),i(2),s(" ",d(27,28,"login.password")," "),i(2),u(28,(R=t.registerForm.get("password"))!=null&&R.errors&&((R=t.registerForm.get("password"))!=null&&R.touched||(R=t.registerForm.get("password"))!=null&&R.dirty)?28:-1),i(4),s(" ",d(33,30,"Register.rePassword")," "),i(2),u(34,t.registerForm.getError("mismach")&&((T=t.registerForm.get("rePassword"))!=null&&T.touched||(T=t.registerForm.get("rePassword"))!=null&&T.dirty)?34:-1),i(2),s(" ",d(37,32,"Register.Register")," "),i(2),u(38,t.isLoding()?38:-1),i(),u(39,t.msgError()?39:-1),i(),u(40,t.msgSucsses()?40:-1)}},dependencies:[O,k,G,M,V,$,j,A,J,H]});let e=l;return e})();export{xe as RegisterComponent};
