<section class="bg-main-light shadow p-2 my-5 rounded-4 text-capitalize">
    <h1 class="h2 text-main"> {{"login.login now"|translate}} :</h1>
    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
        <div class="form-floating mb-3">
            <input
            [ngClass]="{
              'is-valid':!loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
              'is-invalid':loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
                       }"   
            formControlName="email"  type="email" class="form-control shadow-none border-0 " id="email" placeholder="name@example.com">
            <label for="email"> {{"login.email"|translate}} </label>

            @if (loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)) 
            {
              <div class="text-danger mt-1 w-50 p-0">

                @if (loginForm.get('email')?.getError('required')) {<p class="m-0"> {{"login.email is_required"|translate}} </p>}

                @if (loginForm.get('email')?.getError('email')) {<p class="m-0"> {{"login.enter valid email"|translate}} </p>}
                
              </div>
            }

          </div>
          <div class="form-floating mb-3">
            <input
            [ngClass]="{
              'is-valid':!loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
              'is-invalid':loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
             }"   
             formControlName="password"  type="password" class="form-control shadow-none border-0 " id="password" placeholder="name@example.com">
            <label for="password"> {{"login.password"|translate}} </label>

            @if (loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)) 
            {
              <div class="text-danger mt-1 w-50 p-0">

                @if (loginForm.get('password')?.getError('required')) {<p class="m-0"> {{"login.password is required"|translate}} </p>}

                @if (loginForm.get('password')?.getError('pattern')) {<p class="m-0"> {{"login.enter valid password"|translate}} </p>}
                
              </div>
            }

          </div>
          <div class="d-flex align-items-center justify-content-between container">

            <div class="">
              <a routerLink="/register" class="link-info"> {{"login.signup"|translate}} </a>
            </div>

            <div class="d-flex align-items-center justify-content-end gap-4">
              <a routerLink="/forgot" class="link-primary"> {{"login.forget password"|translate}} ?</a>
              <button class="btn-main"> {{"login.login"|translate}} 
              @if (isLoding()) {<span class="fas fa-spin fa-spinner"></span>}
              </button>
            </div>

          </div>

       @if (msgError()) {<p class="text-danger p-1 m-0"> {{msgError()}} </p>}
       @if (msgSuccess()){<p class="text-success p-1 m-0"> {{msgSuccess()}} </p>}
     
    </form>
</section>
